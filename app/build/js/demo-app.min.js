var TicTacToe=function(){var a=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],b=[],c=!1,d="x",e="o",f="-",g=[],h=3,i=100,j=6,k=function(){$("#board li").text(f),$("#board li").removeClass("winner-cell"),count=0,c=!1,b=[],g=[]},l=function(a,b){if(!(a instanceof Array&&b instanceof Array))throw TypeError();for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0},m=function(c){return a.some(function(a){return l(a,c)?(b=a,!0):!1})},n=function(a){var b=[],c=[];return g.forEach(function(a,d){1===a?b.push(d):-1===a&&c.push(d)}),m(b)?i-a:m(c)?a-i:void 0},o=function(a,d){toastr.info(a),b&&!d&&b.forEach(function(a){$("#c-"+a).addClass("winner-cell")}),c=!0},p=function(a,b,c,d){var e,f,k,l=h*h,m=-i;if(f=n(a))return f*b;if(j>a)for(;l--;)if(!g[l]){if(g[l]=b,f=-p(a+1,-b,-d,-c),g[l]=void 0,(void 0===e||f>e)&&(e=f),f>c&&(c=f),c>=d)return c;e>m&&(m=e,k=l)}return a?e||0:k},q=function(a,b){$("#c-"+a).text(1===b?d:e),g[a]=b},r=function(){var a;if(c)return toastr.warning("The game is over. Restart a new one."),!1;var b=$(this).context.id.slice(-1);return g[b]?(toastr.warning("The cell is already selected"),!1):(q(b,1),n(0)>0?(o("X wins. Restart the game."),!1):(a=p(0,1,-i,i),0===a?(o("Its a tie. Restart the game.",!0),!1):(q(a,-1),n(0)<0?(o("O wins. Restart the game."),!1):void 0)))};return{initializeGame:function(){$("#board li").click(r),$("#reset").click(k)}}}();window.onload=function(){TicTacToe.initializeGame()};