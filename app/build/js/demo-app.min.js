var TicTacToe=function(){function a(a){return c.some(function(b){return o(b,a)?(d=b,!0):!1})}var b,c=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],d=[],e=0,f=!1,g="x",h="o",i="-",j=[],k=3,l=100,m=6,n=function(){$("#board li").text(i),$("#board li").removeClass("winner-cell"),e=0,f=!1,d=[],j=[]},o=function(a,b){if(!(a instanceof Array&&b instanceof Array))throw TypeError();for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0},p=function(b){var c=[],d=[];return j.forEach(function(a,b){1===a?c.push(b):-1===a&&d.push(b)}),a(c)?l-b:a(d)?b-l:void 0},q=function(a){toastr.info(a),d&&d.forEach(function(a){$("#c-"+a).addClass("winner-cell")}),f=!0},r=function(a,c,d,e){var f,g,h,i=k*k,n=-l;if(g=p(a))return g*c;if(m>a)for(;i--;)if(!j[i]){if(j[i]=c,g=-r(a+1,-c,-e,-d),j[i]=b,(f===b||g>f)&&(f=g),g>d&&(d=g),d>=e)return d;f>n&&(n=f,h=i)}return a?f||0:h},s=function(a,b){$("#c-"+a).text(1===b?g:h),j[a]=b},t=function(){var a;if(f)return toastr.warning("The game is over. Restart a new one."),!1;var b=$(this).context.id.slice(-1);return j[b]?(toastr.warning("The cell is already selected"),!1):(s(b,1),p(0)>0?(q("X wins. Restart the game."),!1):(a=r(0,1,-l,l),0===a?(q("Its a tie. Restart the game."),!1):(s(a,-1),p(0)<0?(q("O wins. Restart the game."),!1):void 0)))};return{initializeGame:function(){$("#board li").click(t),$("#reset").click(n)}}}();window.onload=function(){TicTacToe.initializeGame()};