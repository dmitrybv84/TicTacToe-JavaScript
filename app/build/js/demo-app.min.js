var TicTacToe=function(){var a,b=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],c=[],d=0,e=!1,f="x",g="o",h="-",i=[],j=3,k=100,l=6,m=function(){$("#board li").text(h),$("#board li").removeClass("winner-cell"),d=0,e=!1,c=[],i=[]},n=function(a,b){if(!(a instanceof Array&&b instanceof Array))throw TypeError();for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0},o=function(a){return b.some(function(b){return n(b,a)?(c=b,!0):!1})},p=function(a){var b=[],c=[];return i.forEach(function(a,d){1===a?b.push(d):-1===a&&c.push(d)}),o(b)?k-a:o(c)?a-k:void 0},q=function(a,b){toastr.info(a),c&&!b&&c.forEach(function(a){$("#c-"+a).addClass("winner-cell")}),e=!0},r=function(b,c,d,e){var f,g,h,m=j*j,n=-k;if(g=p(b))return g*c;if(l>b)for(;m--;)if(!i[m]){if(i[m]=c,g=-r(b+1,-c,-e,-d),i[m]=a,(f===a||g>f)&&(f=g),g>d&&(d=g),d>=e)return d;f>n&&(n=f,h=m)}return b?f||0:h},s=function(a,b){$("#c-"+a).text(1===b?f:g),i[a]=b},t=function(){var a;if(e)return toastr.warning("The game is over. Restart a new one."),!1;var b=$(this).context.id.slice(-1);return i[b]?(toastr.warning("The cell is already selected"),!1):(s(b,1),p(0)>0?(q("X wins. Restart the game."),!1):(a=r(0,1,-k,k),0===a?(q("Its a tie. Restart the game.",!0),!1):(s(a,-1),p(0)<0?(q("O wins. Restart the game."),!1):void 0)))};return{initializeGame:function(){$("#board li").click(t),$("#reset").click(m)}}}();window.onload=function(){TicTacToe.initializeGame()};